## Git: быстрый старт

Цель использования git проста: работать безопасно и быстро, не терять изменения и всегда уметь вернуться в “зелёное” состояние тестов.

### 1) Клонируем проект

```bash
git clone https://gitverse.ru/aloshkarev/ws_algo_2026
cd ws_algo_2026
```

Проверить состояние:

```bash
git status
git log --oneline -n 10
```

### 2) Типовой цикл работы
- **Всегда работайте в отдельной ветке** под день/задачу.
- **Коммитьте маленькими шагами**, так проще откатываться и ревьюить.

Пример (день 1):

```bash
git pull
git switch -c day1-skiplist
```

Дальше цикл:

```bash
# 1) правки в коде
go test ./...
make test-day1

# 2) посмотреть изменения
git status
git diff

# 3) добавить нужные файлы и закоммитить
git add -A
git commit -m "day1: implement skiplist core"
```

### 3) Как смотреть историю и изменения
- **Что поменялось**:

```bash
git diff
git diff --staged
```

- **Что было сделано ранее**:

```bash
git log --oneline --decorate -n 20
```

### 4) Безопасный “откат без боли”
Самые частые ситуации:

- **Отменить изменения в файле (вернуть как было в HEAD)**:

```bash
git restore path/to/file.go
```

- **Убрать файл из staged (после `git add`) но оставить правки**:

```bash
git restore --staged path/to/file.go
```

- **Сбросить все незакоммиченные правки (осторожно, проверяйте не потеряете ли нужное)**:

```bash
git restore .
git restore --staged .
```

### 5) Что коммитить, а что нет
- **Коммитить**: изменения в `internal/...`, `cmd/...`, ваши заметки в `docs/...` (если требуется), тесты/бенчи.
- **Не коммитить**: временные файлы, локальные артефакты, `.env`/секреты, бинарники, локальные папки IDE.

### 6) Самопроверка в этом репозитории
Этот проект использует теги сборки по дням:

```bash
make test-day1   # go test -tags=day1 ./...
make test-day2   # go test -tags=day2 ./...
make test-day3   # go test -tags=day3 ./...
```

### 7) Если тесты упали: минимальный алгоритм
- Прочитать **первую** ошибку (она часто основная, корневая).
- Перезапустить один тест без кеша:

```bash
go test ./... -count=1
```

- Сузить запуск до пакета/теста:

```bash
go test ./internal/skiplist -run TestName -count=1
```

### 8) Про “сдачу”
- одна ветка на день;
- чистая история коммитов;
- `make test-dayX` зелёный перед отправкой.
